"use strict";(self.webpackChunknft_ring_tool_react=self.webpackChunknft_ring_tool_react||[]).push([[663],{15275:function(e,t,n){n.d(t,{AV:function(){return p},CV:function(){return L},Ic:function(){return Y},Id:function(){return d},Vs:function(){return ee},jb:function(){return F},kD:function(){return H},t0:function(){return I},uA:function(){return m},uc:function(){return V},zb:function(){return g},zv:function(){return h}});var r,a=n(3366),i=n(56873),o=n(19058),s=n(58054),c=n(86698),u=n(521),l=n(36228),d={ethereumClient:void 0,setEthereumClient:function(e){r=e},client:function(){if(r)return r;throw new Error("ClientCtrl has no client set")}},f=(0,u.sj)({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),p={state:f,subscribe:function(e){return(0,u.Ld)(f,(function(){return e(f)}))},push:function(e,t){e!==f.view&&(f.view=e,t&&(f.data=t),f.history.push(e))},reset:function(e){f.view=e,f.history=[e]},replace:function(e){f.history.length>1&&(f.history[f.history.length-1]=e,f.view=e)},goBack:function(){if(f.history.length>1){f.history.pop();var e=f.history.slice(-1),t=(0,c.Z)(e,1)[0];f.view=t}},setData:function(e){f.data=e}},h={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",W3M_VERSION:"W3M_VERSION",W3M_PREFER_INJECTED_URL_FLAG:"w3mPreferInjected",RECOMMENDED_WALLET_AMOUNT:9,isMobile:function(){return typeof window<"u"&&!(!window.matchMedia("(pointer:coarse)").matches&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/.test(navigator.userAgent))},isAndroid:function(){return h.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos:function(){var e=navigator.userAgent.toLowerCase();return h.isMobile()&&(e.includes("iphone")||e.includes("ipad"))},isHttpUrl:function(e){return e.startsWith("http://")||e.startsWith("https://")},isArray:function(e){return Array.isArray(e)&&e.length>0},formatNativeUrl:function(e,t,n){if(h.isHttpUrl(e))return this.formatUniversalUrl(e,t,n);var r=e;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r="".concat(r,"://")),this.setWalletConnectDeepLink(r,n);var a=encodeURIComponent(t);return"".concat(r,"wc?uri=").concat(a)},formatUniversalUrl:function(e,t,n){if(!h.isHttpUrl(e))return this.formatNativeUrl(e,t,n);var r=e;e.endsWith("/")&&(r=e.slice(0,-1)),this.setWalletConnectDeepLink(r,n);var a=encodeURIComponent(t);return"".concat(r,"/wc?uri=").concat(a)},wait:function(e){return(0,s.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout(t,e)})));case 1:case"end":return t.stop()}}),t)})))()},openHref:function(e,t){window.open(e,t,"noreferrer noopener")},setWalletConnectDeepLink:function(e,t){localStorage.setItem(h.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))},setWalletConnectAndroidDeepLink:function(e){var t=e.split("?"),n=(0,c.Z)(t,1)[0];localStorage.setItem(h.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:n,name:"Android"}))},removeWalletConnectDeepLink:function(){localStorage.removeItem(h.WALLETCONNECT_DEEPLINK_CHOICE)},setWeb3ModalVersionInStorage:function(){typeof localStorage<"u"&&localStorage.setItem(h.W3M_VERSION,"2.4.2")},getWalletRouterData:function(){var e,t=null==(e=p.state.data)?void 0:e.Wallet;if(!t)throw new Error('Missing "Wallet" view data');return t},getSwitchNetworkRouterData:function(){var e,t=null==(e=p.state.data)?void 0:e.SwitchNetwork;if(!t)throw new Error('Missing "SwitchNetwork" view data');return t},isPreferInjectedFlag:function(){return typeof location<"u"&&new URLSearchParams(location.search).has(h.W3M_PREFER_INJECTED_URL_FLAG)}},v=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),b=(0,u.sj)({enabled:v,userSessionId:"",events:[],connectedWalletId:void 0}),m={state:b,subscribe:function(e){return(0,u.Ld)(b.events,(function(){return e((0,u.CO)(b.events[b.events.length-1]))}))},initialize:function(){b.enabled&&typeof crypto<"u"&&(b.userSessionId=crypto.randomUUID())},setConnectedWalletId:function(e){b.connectedWalletId=e},click:function(e){if(b.enabled){var t={type:"CLICK",name:e.name,userSessionId:b.userSessionId,timestamp:Date.now(),data:e};b.events.push(t)}},track:function(e){if(b.enabled){var t={type:"TRACK",name:e.name,userSessionId:b.userSessionId,timestamp:Date.now(),data:e};b.events.push(t)}},view:function(e){if(b.enabled){var t={type:"VIEW",name:e.name,userSessionId:b.userSessionId,timestamp:Date.now(),data:e};b.events.push(t)}}},w=(0,u.sj)({selectedChain:void 0,chains:void 0,standaloneChains:void 0,standaloneUri:void 0,isStandalone:!1,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1,isPreferInjected:!1,walletConnectVersion:1}),g={state:w,subscribe:function(e){return(0,u.Ld)(w,(function(){return e(w)}))},setChains:function(e){w.chains=e},setStandaloneChains:function(e){w.standaloneChains=e},setStandaloneUri:function(e){w.standaloneUri=e},getSelectedChain:function(){var e=d.client().getNetwork().chain;return e&&(w.selectedChain=e),w.selectedChain},setSelectedChain:function(e){w.selectedChain=e},setIsStandalone:function(e){w.isStandalone=e},setIsCustomDesktop:function(e){w.isCustomDesktop=e},setIsCustomMobile:function(e){w.isCustomMobile=e},setIsDataLoaded:function(e){w.isDataLoaded=e},setIsUiLoaded:function(e){w.isUiLoaded=e},setWalletConnectVersion:function(e){w.walletConnectVersion=e},setIsPreferInjected:function(e){w.isPreferInjected=e},setIsAuth:function(e){w.isAuth=e}},C=(0,u.sj)({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chainImages:void 0,tokenImages:void 0,tokenContracts:void 0,standaloneChains:void 0,enableStandaloneMode:!1,enableAuthMode:!1,enableNetworkView:!1,enableAccountView:!0,enableExplorer:!0,defaultChain:void 0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),I={state:C,subscribe:function(e){return(0,u.Ld)(C,(function(){return e(C)}))},setConfig:function(e){var t,n,r,a;m.initialize(),g.setStandaloneChains(e.standaloneChains),g.setIsStandalone(!(null==(t=e.standaloneChains)||!t.length)||!!e.enableStandaloneMode),g.setIsAuth(!!e.enableAuthMode),g.setIsCustomMobile(!(null==(n=e.mobileWallets)||!n.length)),g.setIsCustomDesktop(!(null==(r=e.desktopWallets)||!r.length)),g.setWalletConnectVersion(null!=(a=e.walletConnectVersion)?a:1),g.state.isStandalone||(g.setChains(d.client().chains),g.setIsPreferInjected(d.client().isInjectedProviderInstalled()&&h.isPreferInjectedFlag())),e.defaultChain&&g.setSelectedChain(e.defaultChain),h.setWeb3ModalVersionInStorage(),Object.assign(C,e)}},y=(0,u.sj)({address:void 0,profileName:void 0,profileAvatar:void 0,profileLoading:!1,balanceLoading:!1,balance:void 0,isConnected:!1}),L={state:y,subscribe:function(e){return(0,u.Ld)(y,(function(){return e(y)}))},getAccount:function(){var e=d.client().getAccount();y.address=e.address,y.isConnected=e.isConnected},fetchProfile:function(e,t){return(0,s.Z)((0,o.Z)().mark((function n(){var r,a,i,s,c;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,y.profileLoading=!0,a=null!==t&&void 0!==t?t:y.address,i=null==(r=g.state.chains)?void 0:r.find((function(e){return 1===e.id})),!a||!i){n.next=17;break}return n.next=6,d.client().fetchEnsName({address:a,chainId:1});case 6:if(!(s=n.sent)){n.next=16;break}return n.next=10,d.client().fetchEnsAvatar({name:s,chainId:1});case 10:if(c=n.sent,n.t0=c,!n.t0){n.next=15;break}return n.next=15,e(c);case 15:y.profileAvatar=c;case 16:y.profileName=s;case 17:return n.prev=17,y.profileLoading=!1,n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[0,,17,20]])})))()},fetchBalance:function(e){return(0,s.Z)((0,o.Z)().mark((function t(){var n,r,a,i,s,c;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=d.client().getNetwork(),r=n.chain,a=I.state.tokenContracts,r&&a&&(i=a[r.id]),y.balanceLoading=!0,!(s=null!==e&&void 0!==e?e:y.address)){t.next=9;break}return t.next=7,d.client().fetchBalance({address:s,token:i});case 7:c=t.sent,y.balance={amount:c.formatted,symbol:c.symbol};case 9:return t.prev=9,y.balanceLoading=!1,t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,,9,12]])})))()},setAddress:function(e){y.address=e},setIsConnected:function(e){y.isConnected=e},resetBalance:function(){y.balance=void 0},resetAccount:function(){y.address=void 0,y.isConnected=!1,y.profileName=void 0,y.profileAvatar=void 0,y.balance=void 0}},E="https://explorer-api.walletconnect.com";function k(e,t){return j.apply(this,arguments)}function j(){return(j=(0,s.Z)((0,o.Z)().mark((function e(t,n){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new URL(t,E)).searchParams.append("projectId",I.state.projectId),Object.entries(n).forEach((function(e){var t=(0,c.Z)(e,2),n=t[0],a=t[1];a&&r.searchParams.append(n,String(a))})),e.next=5,fetch(r);case 5:return e.abrupt("return",e.sent.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=function(e){return(0,s.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",k("/w3m/v1/getDesktopListings",e));case 1:case"end":return t.stop()}}),t)})))()},x=function(e){return(0,s.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",k("/w3m/v1/getMobileListings",e));case 1:case"end":return t.stop()}}),t)})))()},A=function(e){return(0,s.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",k("/w3m/v1/getInjectedListings",e));case 1:case"end":return t.stop()}}),t)})))()},O=function(e){return(0,s.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",k("/w3m/v1/getAllListings",e));case 1:case"end":return t.stop()}}),t)})))()},S=function(e){return"".concat(E,"/w3m/v1/getWalletImage/").concat(e,"?projectId=").concat(I.state.projectId)},Z=function(e){return"".concat(E,"/w3m/v1/getAssetImage/").concat(e,"?projectId=").concat(I.state.projectId)},N=Object.defineProperty,M=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,D=function(e,t,n){return t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},_=function(e,t){for(var n in t||(t={}))U.call(t,n)&&D(e,n,t[n]);if(M){var r,a=(0,i.Z)(M(t));try{for(a.s();!(r=a.n()).done;){n=r.value;P.call(t,n)&&D(e,n,t[n])}}catch(o){a.e(o)}finally{a.f()}}return e},T=h.isMobile(),R=(0,u.sj)({wallets:{listings:[],total:0,page:1},injectedWallets:[],search:{listings:[],total:0,page:1},recomendedWallets:[]}),V={state:R,getRecomendedWallets:function(){return(0,s.Z)((0,o.Z)().mark((function e(){var t,n,r,a,i,s,c,u,l,d,f,p,v,b,m,w;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=I.state,n=t.explorerRecommendedWalletIds,r=t.explorerExcludedWalletIds,"NONE"!==n&&("ALL"!==r||n)){e.next=3;break}return e.abrupt("return",R.recomendedWallets);case 3:if(!h.isArray(n)){e.next=13;break}return a={recommendedIds:n.join(",")},e.next=7,O(a);case 7:i=e.sent,s=i.listings,(c=Object.values(s)).sort((function(e,t){return n.indexOf(e.id)-n.indexOf(t.id)})),R.recomendedWallets=c,e.next=32;break;case 13:if(u=g.state,l=u.standaloneChains,d=u.walletConnectVersion,f=u.isAuth,p=null===l||void 0===l?void 0:l.join(","),v=h.isArray(r),b={page:1,sdks:f?"auth_v1":void 0,entries:h.RECOMMENDED_WALLET_AMOUNT,chains:p,version:d,excludedIds:v?r.join(","):void 0},!T){e.next=26;break}return e.next=23,x(b);case 23:e.t0=e.sent,e.next=29;break;case 26:return e.next=28,W(b);case 28:e.t0=e.sent;case 29:m=e.t0,w=m.listings,R.recomendedWallets=Object.values(w);case 32:return e.abrupt("return",R.recomendedWallets);case 33:case"end":return e.stop()}}),e)})))()},getWallets:function(e){return(0,s.Z)((0,o.Z)().mark((function t(){var n,r,i,s,c,u,l,d,f,p,v,b;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=_({},e),r=I.state,i=r.explorerRecommendedWalletIds,s=r.explorerExcludedWalletIds,c=R.recomendedWallets,"ALL"!==s){t.next=3;break}return t.abrupt("return",R.wallets);case 3:if(n.search||(c.length?n.excludedIds=c.map((function(e){return e.id})).join(","):h.isArray(i)&&(n.excludedIds=i.join(","))),h.isArray(s)&&(n.excludedIds=[n.excludedIds,s].filter(Boolean).join(",")),g.state.isAuth&&(n.sdks="auth_v1"),u=e.page,l=e.search,!T){t.next=12;break}return t.next=9,x(n);case 9:t.t0=t.sent,t.next=15;break;case 12:return t.next=14,W(n);case 14:t.t0=t.sent;case 15:return d=t.t0,f=d.listings,p=d.total,v=Object.values(f),b=l?"search":"wallets",t.abrupt("return",(R[b]={listings:[].concat((0,a.Z)(R[b].listings),v),total:p,page:null!==u&&void 0!==u?u:1},{listings:v,total:p}));case 21:case"end":return t.stop()}}),t)})))()},getInjectedWallets:function(){return(0,s.Z)((0,o.Z)().mark((function e(){var t,n,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({});case 2:return t=e.sent,n=t.listings,r=Object.values(n),e.abrupt("return",(R.injectedWallets=r,R.injectedWallets));case 6:case"end":return e.stop()}}),e)})))()},getWalletImageUrl:function(e){return S(e)},getAssetImageUrl:function(e){return Z(e)},resetSearch:function(){R.search={listings:[],total:0,page:1}}},B=(0,u.sj)({pairingUri:"",pairingError:!1}),H={state:B,subscribe:function(e){return(0,u.Ld)(B,(function(){return e(B)}))},setPairingUri:function(e){B.pairingUri=e},setPairingError:function(e){B.pairingError=e}},K=(0,u.sj)({open:!1}),F={state:K,subscribe:function(e){return(0,u.Ld)(K,(function(){return e(K)}))},open:function(e){return(0,s.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var n=g.state,r=n.isStandalone,a=n.isUiLoaded,i=n.isDataLoaded,o=n.isPreferInjected,s=n.selectedChain,c=L.state.isConnected,u=I.state.enableNetworkView;if(r)g.setStandaloneUri(null===e||void 0===e?void 0:e.uri),g.setStandaloneChains(null===e||void 0===e?void 0:e.standaloneChains),p.reset("ConnectWallet");else if(null!=e&&e.route)p.reset(e.route);else if(c)p.reset("Account");else if(u)p.reset("SelectNetwork");else{if(o)return d.client().connectConnector("injected",null===s||void 0===s?void 0:s.id).catch((function(e){return console.error(e)})),void t();p.reset("ConnectWallet")}var l=H.state.pairingUri;if(a&&i&&(r||l||c))K.open=!0,t();else var f=setInterval((function(){var e=g.state,n=H.state;e.isUiLoaded&&e.isDataLoaded&&(e.isStandalone||n.pairingUri||c)&&(clearInterval(f),K.open=!0,t())}),200)})));case 1:case"end":return t.stop()}}),t)})))()},close:function(){K.open=!1}},z=Object.defineProperty,J=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,Q=function(e,t,n){return t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n};var X=(0,u.sj)({themeMode:typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),Y={state:X,subscribe:function(e){return(0,u.Ld)(X,(function(){return e(X)}))},setThemeConfig:function(e){var t=e.themeMode,n=e.themeVariables;t&&(X.themeMode=t),n&&(X.themeVariables=function(e,t){for(var n in t||(t={}))G.call(t,n)&&Q(e,n,t[n]);if(J){var r,a=(0,i.Z)(J(t));try{for(a.s();!(r=a.n()).done;)n=r.value,q.call(t,n)&&Q(e,n,t[n])}catch(o){a.e(o)}finally{a.f()}}return e}({},n))}},$=(0,u.sj)({open:!1,message:"",variant:"success"}),ee={state:$,subscribe:function(e){return(0,u.Ld)($,(function(){return e($)}))},openToast:function(e,t){$.open=!0,$.message=e,$.variant=t},closeToast:function(){$.open=!1}};typeof window<"u"&&(window.Buffer||(window.Buffer=l.Buffer),window.global||(window.global=window),window.process||(window.process={env:{}}))},62663:function(e,t,n){n.r(t),n.d(t,{Web3Modal:function(){return h}});var r=n(19058),a=n(58054),i=n(86305),o=n(15671),s=n(56873),c=n(15275),u=Object.defineProperty,l=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,p=function(e,t,n){return t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},h=function(){function e(t){(0,i.Z)(this,e),this.openModal=c.jb.open,this.closeModal=c.jb.close,this.subscribeModal=c.jb.subscribe,this.setTheme=c.Ic.setThemeConfig,c.Ic.setThemeConfig(t),c.t0.setConfig(function(e,t){for(var n in t||(t={}))d.call(t,n)&&p(e,n,t[n]);if(l){var r,a=(0,s.Z)(l(t));try{for(a.s();!(r=a.n()).done;)n=r.value,f.call(t,n)&&p(e,n,t[n])}catch(i){a.e(i)}finally{a.f()}}return e}({enableStandaloneMode:!0},t)),this.initUi()}return(0,o.Z)(e,[{key:"initUi",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(typeof window<"u")){e.next=5;break}return e.next=3,Promise.all([n.e(104),n.e(774),n.e(248)]).then(n.bind(n,77248));case 3:t=document.createElement("w3m-modal"),document.body.insertAdjacentElement("beforeend",t),c.zb.setIsUiLoaded(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()}}]);
//# sourceMappingURL=663.19b0c045.chunk.js.map